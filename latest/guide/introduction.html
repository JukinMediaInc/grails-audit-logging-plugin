<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>1 Introduction To The Cache Plugin 2.0.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction To The Cache Plugin</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/usage.html"><strong>2</strong><span>Usage</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/implementation.html"><strong>3</strong><span>Implementation Details</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p></p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/usage.html"><strong>2</strong><span>Usage</span> >></a></div>
                


                <div class="project">
                    <h1>1 Introduction To The Cache Plugin - Reference Documentation</h1>

                    <p><strong>Authors:</strong> </p>

                    <p><strong>Version:</strong> 2.0.0</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#changelog"><strong>1.1</strong><span>Changelog</span></a>
                    </div>
                    
                </div>
                

                
<a name="1. Introduction To The Cache Plugin"><!-- Legacy link --></a>
<h1 id="introduction">1 Introduction To The Cache Plugin</h1>
<h3>Description</h3><p class="paragraph"/>The Audit Logging plugin adds Grails GORM Events based Audit Logging capabilities to a Grails project and it also adds
support to domain models for hooking into the Grails GORM events system.<p class="paragraph"/>Support for the following closures are added: onSave, onDelete, and onChange. The onChange closure can be used in two ways.
First, it can be used with no parameters or it can be used with two parameters, oldMap and newMap.
The first parameter is a LinkedHashMap representing the old state of the object before the change was applied,
the second parameter is a LinkedHashMap representing the state of the object after changes are applied.<p class="paragraph"/>NOTE: GORM Events hook into the ''beforeInsert'' and the ''beforeUpdate'' events which work great for preventing updates
but do not work well for ''Audit Logging'' where we would need critical information about the entity that is only
available after these actions complete. We've chosen to prefix the handler names with "on" so that they do not conflict
with other handler names in other existing plugins.<p class="paragraph"/><h3>Compatibility issues</h3>
<ul class="star">
<li>For Grails 3.x use version 2.0.0 or above.</li>
<li>For Grails 2.x use version 1.0.0 or above.</li>
<li>For Grails 1.3.x use version 0.5.5.3.</li>
<li>For Grails &#60;= 1.2.0 use version 0.5.3.</li>
</ul><p class="paragraph"/><h3>ORM implementation dependency</h3><p class="paragraph"/>Starting with version 1.0.0, this plugin is ORM mapper agnostic, so you can use it with the ORM mapper of your choice
(Hibernate3, Hibernate4, MongoDB, etc.).<p class="paragraph"/>Please note, that only Hibernate3 and Hibernate4 are tested during development. If an issue occurs with your used ORM mapper,
please file a GitHub issue.<p class="paragraph"/>
<h3>Installation</h3><p class="paragraph"/>Add to your build.gradle buildscript dependencies block and to the project dependencies block:<p class="paragraph"/><div class="code"><pre>buildscript &#123;
  /&#42;&#42; gradle build&#45;time dependencies &#42;&#42;/
  dependencies &#123;
    classpath 'org.grails.plugins:audit&#45;logging:2.0.0'
  &#125;
&#125;<p class="paragraph"/>/&#42;&#42; Project dependencies &#42;&#42;/
dependencies &#123;
   compile 'org.grails.plugins:audit&#45;logging:2.0.0'
&#125;</pre></div><p class="paragraph"/><h3>Create your Domain Artifact using audit-quickstart</h3><p class="paragraph"/><blockquote class="note">
After installing the plugin, you must perform the following command to let the plugin create the audit-logging domain class within your project.
</blockquote><p class="paragraph"/><div class="code"><pre>grails audit&#45;quickstart &#60;your.<span class="java&#45;keyword">package</span>.name&#62; &#60;YourAuditLogEventClassName&#62;</pre></div><p class="paragraph"/>example:<p class="paragraph"/><div class="code"><pre>grails audit&#45;quickstart org.myaudit.example AuditLogEvent</pre></div><p class="paragraph"/>Afterwards, set the mapping and constraint settings accordinghly in the created AuditLog Domain Artifact.<p class="paragraph"/>Advantage of this approach is that you got full control of the Audit Domain Class.<p class="paragraph"/>


<a name="1.1 Change log"><!-- Legacy link --></a>
<h2 id="changelog">1.1 Changelog</h2>

<h3>2.0.0</h3>
<ul class="star">
<li>Grails 3 support.</li>
<li>audit-quickstart command to create the AuditLog domain artifact</li>
<li>Current branch: master.</li>
<li>For 1.0.x version, see 1.x_maintenance branch</li>
</ul><p class="paragraph"/><h3>1.0.5</h3>
<ul class="star">
<li>Migration of JIRA to GitHub Issues</li>
<li>Fix #92 (Support for ignoring certain Events)</li>
<li>Starting with this release, the main branch for the 1.0.x series is 1.x_maintenance. Master branch is for Grails 3.0 support, now. Both branches will be tested by Travis-CI.</li>
</ul><p class="paragraph"/><h3>1.0.4</h3>
<ul class="star">
<li>GPAUDITLOGGING-69 allow to set uri per domain object</li>
<li>GPAUDITLOGGING-62 Add identifier in handler map</li>
<li>GPAUDITLOGGING-29 support configurable id mapping for AuditLogEvent</li>
<li>GPAUDITLOGGING-70 support configurable datasource name for AuditLogEvent</li>
<li>GPAUDITLOGGING-74 Impossible to log values of zero or false</li>
<li>GPAUDITLOGGING-75 Support automatic (audit) stamping support on entities</li>
</ul><p class="paragraph"/><h3>1.0.3</h3>
<ul class="star">
<li>GPAUDITLOGGING-64 workaround for duplicate log entries written per configured dataSource</li>
<li>GPAUDITLOGGING-63 logFullClassName property</li>
</ul><p class="paragraph"/><h3>1.0.2</h3>
<ul class="star">
<li>GPAUDITLOGGING-66</li>
</ul><p class="paragraph"/><h3>1.0.1</h3>
<ul class="star">
<li>closures</li>
<li>nonVerboseDelete property</li>
<li>provide domain identifier to onSave() handler</li>
</ul><p class="paragraph"/><h3>1.0.0</h3>
<ul class="star">
<li>Grails &#62;= 2.0</li>
<li>ORM agnostic implementation</li>
<li>major cleanup and new features</li>
<li>fix #99 Plugin not working with MongoDB as Only Database</li>
<li>Changed issue management url to GH.</li>
<li>#13 Externalize AuditTrailEvent domain to user</li>
</ul><p class="paragraph"/><h3>0.5.5.3</h3>
<ul class="star">
<li>Added ability to disable audit logging by config.</li>
</ul><p class="paragraph"/><h3>0.5.5.2</h3>
<ul class="star">
<li>Added issueManagement to plugin descriptor for the portal. No changes in the plugin code.</li>
</ul><p class="paragraph"/><h3>0.5.5.1</h3>
<ul class="star">
<li>Fixed the title. No changes in the plugin code.</li>
</ul><p class="paragraph"/><h3> 0.5.5</h3>
<ul class="star">
<li>collections logging</li>
<li>log ids</li>
<li>replacement patterns</li>
<li>property value masking</li>
<li>large fields support</li>
<li>fixes and enhancements</li>
</ul><p class="paragraph"/><h3> 0.5.4</h3>
<ul class="star">
<li>compatibility issues with Grails 1.3.x</li>
</ul><p class="paragraph"/><h3> 0.5.3</h3>
<ul class="star">
<li>GRAILSPLUGINS-2135</li>
<li>GRAILSPLUGINS-2060</li>
<li>an issue with extra JAR files that are somehow getting released as part of the plugin</li>
</ul><p class="paragraph"/><h3>0.5.2</h3>
<ul class="star">
<li>GRAILSPLUGINS-1887 and GRAILSPLUGINS-1354</li>
</ul><p class="paragraph"/><h3>0.5.1</h3>
<ul class="star">
<li>fixes regression in field logging</li>
</ul><p class="paragraph"/><h3>0.5</h3>
<ul class="star">
<li>GRAILSPLUGINS-391</li>
<li>GRAILSPLUGINS-1496</li>
<li>GRAILSPLUGINS-1181</li>
<li>GRAILSPLUGINS-1515</li>
<li>GRAILSPLUGINS-1811</li>
<li>changes to AuditLogEvent domain object uses composite id to simplify logging</li>
<li>changes to AuditLogListener uses new domain model with separate transaction</li>
<li>for logging action to avoid invalidating the main hibernate session.</li>
</ul><p class="paragraph"/><h3>0.4.1</h3>
<ul class="star">
<li>repackaged for Grails 1.1.1 see GRAILSPLUGINS-1181</li>
</ul><p class="paragraph"/><h3>0.4</h3>
<ul class="star">
<li>custom serializable implementation for AuditLogEvent so events can happen inside a webflow context.</li>
<li>tweak application.properties for loading in other grails versions</li>
<li>update to views to show URI in an event</li>
<li>fix missing oldState bug in change event</li>
</ul><p class="paragraph"/><h3>0.3</h3>
<ul class="star">
<li>actorKey and username features allow for the logging of user or userPrincipal for most security systems.</li>
<li>Fix #31 disable hotkeys for layout.</li>
</ul><p class="paragraph"/>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item next-right"><a href="../guide/usage.html"><strong>2</strong><span>Usage</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
